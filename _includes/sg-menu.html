<div id="sg-menu" class="sg-menu">

    {% if jekyll.environment == "production" %}
        <nav class="sg-menu-list">
    {% elsif jekyll.environment == "stage" %}
        <nav class="sg-menu-list sg-menu-list-local">
    {% else %}
        <nav class="sg-menu-list sg-menu-list-local">  
    {% endif %}
        
        <div class="ds-heading">
            <a href="/">
                <img src="{{ site.baseurl }}/sg-css/images/wedgetail-logo.svg?v=2">
            </a>

            {% if jekyll.environment == "production" %}
                <span class="logo-text">Design System</span>
                <span class="version">v1.01</span>
            {% elsif jekyll.environment == "stage" %}
                <span class="logo-text">Design System <span class="environment">Dev</span></span>
                <span class="version">v1.01</span>
            {% else %}
                <span class="logo-text">Design System <span class="environment">Local</span></span>
                <span class="version">V1.01</span>
            {% endif %}
        </div>

        <p>Getting started</p>

        {%- assign about = site.docs | where: 'type', 'getting-started' | sort: 'url' -%}
        
        <ul>
            <li class="{{ page.status }}"><a href="/"{%- if page.url == '/' -%} class="active"{%- endif -%}>About Wedgetail</a></li>

            {%- for pattern in about -%}

                {% if jekyll.environment == "stage" and pattern.status == 'ready'  %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% else %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% endif %}
                
            {%- endfor -%}
        </ul>

        <p>Guidelines</p>

        {%- assign guidelines = site.docs | where: 'type', 'guideline' | sort: 'url' -%}
        
        <ul>            
            {%- for pattern in guidelines -%}

                {% if jekyll.environment == "stage" and pattern.status == 'ready'  %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% else %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% endif %}

            {%- endfor -%}
        </ul>

        <p>Elements</p>

        {%- assign elements = site.docs | where: 'type', 'element' | sort: 'url' -%}
        
        <ul>            
            {%- for pattern in elements -%}

                {% if jekyll.environment == "stage" and pattern.status == 'ready'  %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% else %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% endif %}

            {%- endfor -%}
        </ul>

        <p>Components</p>

        {%- assign components = site.docs | where: 'type', 'component' | sort: 'url' -%}
        
        <ul>
            {%- for pattern in components -%}
                
                {% if jekyll.environment == "stage" and pattern.status == 'ready'  %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% else %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% endif %}

            {%- endfor -%}
        </ul>

        <p>Blocks</p>

        {%- assign blocks = site.docs | where: 'type', 'block' | sort: 'url' -%}
        
        <ul>
            {%- for pattern in blocks -%}
                
                {% if jekyll.environment == "stage" and pattern.status == 'ready'  %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% else %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% endif %}

            {%- endfor -%}
        </ul>

        <p>Templates</p>

        {%- assign templates = site.docs | where: 'type', 'template' | sort: 'url' -%}
        
        <ul>
            {%- for pattern in templates -%}
                
                {% if jekyll.environment == "stage" and pattern.status == 'ready'  %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% else %}
                    <li class="{{ pattern.status }}"><a href="{{ site.baseurl }}{{ pattern.url }}"{%- if doc.url == page.url -%} class="active"{%- endif -%}>{{ pattern.title }}</a></li>
                {% endif %}

            {%- endfor -%}
        </ul>
    </nav>
</div>
