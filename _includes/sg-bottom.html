<script
src="https://code.jquery.com/jquery-2.2.4.min.js"
integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js"></script>

<script>
    /*
     * iframe auto height
     */
    function setIframeHeight(iframe) {
        if (iframe) {
            var iframeWin = iframe.contentWindow || iframe.contentDocument.parentWindow;
            if (iframeWin.document.body) {
                iframe.height = iframeWin.document.documentElement.scrollHeight || iframeWin.document.body.scrollHeight;
            }
        }
    };
    $(window).load(function () {
        $('iframe').each(function () {
            var id = $(this).attr('id');
            setIframeHeight(document.getElementById(id));
        });
    });
    $(window).resize(function () {
        $('iframe').each(function () {
            var id = $(this).attr('id');
            setIframeHeight(document.getElementById(id));
        });
    });

    $(window).load(function () {
        var codeButton = $('.sg_helper_code.button');
        codeButton.click(function(){
            $(this).parents('.sg_pattern').toggleClass('active');
            $(this).parents('.sg_pattern').children('.sg_code').slideToggle();
            // If the pattern is open don't scroll
            if($(this).parents('.sg_pattern').hasClass('active')) {
            $('html, body').animate({
                scrollTop: $(this).parents('.sg_pattern').offset().top
            }, 500);
            } 
        });

        $('a[href^="#"]').click(function() {
        var target = $(this.hash);
        var hash = this.hash;
        if (target.length == 0) target = $('a[name="' + this.hash.substr(1) + '"]');
        if (target.length == 0) target = $('html');
        console.log(target);
        // If the Target element is collapsed; expand it...
        if($(target).hasClass('collapsed')) {
        $(target).nextUntil('h1').slideDown();
        $(target).removeClass('collapsed');
        } 
        // Scroll to the element
        $('html, body').animate({ scrollTop: target.offset().top }, 500, function (){
            location.hash = hash;
        });
        return false;
        });
        
        // var p = $('.sg_label.planned').length
        // var d = $('.sg_label.draft').length
        // var r = $('.sg_label.ready').length
        // var rt = $('.sg_label.retired').length
        // var total = parseInt(p) + parseInt(d) + parseInt(r) + parseInt(rt);
        // var pp = 100 / total * p;
        // var pd = 100 / total * d;
        // var pr = 100 / total * r;
        // var prt = 100 / total * rt;  
        // if (total > 0) { 
        //     $('.title').append('<div class="count" title="Current Maturity"><span class="planned" style="width:' + pp + '%"></span><span class="draft" style="width:' + pd + '%"></span><span class="ready" style="width:' + pr + '%"></span><span class="retired" style="width:' + prt + '%"></span></div>');
        // }
        
    });


</script>
</body>

</html>
